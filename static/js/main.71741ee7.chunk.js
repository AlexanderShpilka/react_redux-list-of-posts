(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{20:function(e,t,n){e.exports=n(43)},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(6),u=n.n(o),s=n(2),l=n(16),i=n.n(l),p=n(1),d=n.n(p),m=n(4),f={inputValue:"",filterValue:"",isLoading:!1,posts:[],isLoadSuccess:!1,isLoadError:!1};!function(e){e[e.SetInputValue=0]="SetInputValue",e[e.SetFilterValue=1]="SetFilterValue",e[e.SetIsLoading=2]="SetIsLoading",e[e.LoadData=3]="LoadData",e[e.SetIsLoadSuccess=4]="SetIsLoadSuccess",e[e.SetIsLoadError=5]="SetIsLoadError",e[e.DeletePost=6]="DeletePost",e[e.DeleteComment=7]="DeleteComment"}(a||(a={}));var b=n(3),y=n(19),E=function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("posts"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("users"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("comments"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n,a,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([v(),L(),j()]);case 2:return t=e.sent,n=Object(y.a)(t,3),a=n[0],r=n[1],c=n[2],o=a.map((function(e){return Object(b.a)({},e,{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){return{type:a.SetIsLoading,payload:e}},O=function(){var e=Object(s.c)((function(e){return{inputValue:e.inputValue}})).inputValue,t=Object(s.b)(),n=Object(r.useCallback)(i()(t,1e3),[]);return c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:e,placeholder:"Filter posts",onChange:function(e){var r;t(function(e){return{type:a.SetInputValue,payload:e}}(e.target.value)),n((r=e.target.value,{type:a.SetFilterValue,payload:r}))}}))},I=(n(39),function(e){var t=e.disabled,n=e.onClick,a=e.children;return c.a.createElement("button",{type:"button",className:"load-btn",disabled:t,onClick:n},a)}),w=(n(40),function(e){var t=e.user,n=t.name,a=t.email,r=t.address,o=r.zipcode,u=r.street,s=r.city;return c.a.createElement("p",{className:"user"},c.a.createElement("span",null,c.a.createElement("b",null,"Name:")," ",n),c.a.createElement("span",null,c.a.createElement("b",null,"Email:")," ",a),c.a.createElement("span",null,c.a.createElement("b",null,"Address:")," ","".concat(s," / ").concat(u," / ").concat(o)))}),g=function(e){var t=e.comment;return c.a.createElement(c.a.Fragment,null,t.body)},k=function(e){var t=e.comments,n=Object(s.b)();return c.a.createElement("ol",null,t.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(g,{comment:e})," ",c.a.createElement("button",{type:"button",onClick:function(){var t,r;n((t=e.postId,r=e.id,{type:a.DeleteComment,payload:{postId:t,commentId:r}}))}},"X"))})))},V=function(e){var t=e.post,n=t.title,a=t.body,r=t.user,o=t.comments;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("b",null,"Title:")," ",n),c.a.createElement("p",null,c.a.createElement("b",null,"Body:")," ",a),c.a.createElement(w,{user:r}),c.a.createElement(k,{comments:o}))},C=(n(41),function(){var e=Object(s.c)((function(e){return{posts:e.posts,filterValue:e.filterValue}})),t=e.posts,n=e.filterValue,o=Object(s.b)(),u=Object(r.useMemo)((function(){return function(e,t){return e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||e.body.toLowerCase().includes(t.toLowerCase())}))}(t,n)}),[t,n]);return c.a.createElement("ul",{className:"post-list"},u.map((function(e){return c.a.createElement("li",{key:e.id,className:"post-item"},c.a.createElement(V,{post:e}),c.a.createElement("button",{type:"button",className:"delete-item-btn",onClick:function(){var t;o((t=e.id,{type:a.DeletePost,payload:t}))}},"X"))})))}),x=(n(42),n(5)),D=n(17),F=n(18),N=Object(x.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SetInputValue:return Object(b.a)({},e,{inputValue:t.payload||""});case a.SetFilterValue:return Object(b.a)({},e,{filterValue:t.payload||""});case a.SetIsLoading:return Object(b.a)({},e,{isLoading:t.payload||!1});case a.LoadData:return Object(b.a)({},e,{posts:t.payload||[]});case a.SetIsLoadSuccess:return Object(b.a)({},e,{isLoadSuccess:t.payload||!1});case a.SetIsLoadError:return Object(b.a)({},e,{isLoadError:t.payload||!1});case a.DeletePost:return Object(b.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case a.DeleteComment:return Object(b.a)({},e,{posts:e.posts.map((function(e){return e.id!==t.payload.postId?e:Object(b.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.payload.commentId}))})}))});default:return e}}),Object(F.composeWithDevTools)(Object(x.applyMiddleware)(D.a)));u.a.render(c.a.createElement(s.a,{store:N},c.a.createElement((function(){var e=Object(s.c)((function(e){return{isLoading:e.isLoading,isLoadSuccess:e.isLoadSuccess,isLoadError:e.isLoadError}})),t=e.isLoading,n=e.isLoadSuccess,r=e.isLoadError,o=Object(s.b)(),u=function(){o(function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h(!0)),e.prev=1,e.next=4,S();case 4:n=e.sent,t({type:a.LoadData,payload:n}),t((c=!0,{type:a.SetIsLoadSuccess,payload:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((r=!0,{type:a.SetIsLoadError,payload:r}));case 12:return e.prev=12,t(h(!1)),e.finish(12);case 15:case"end":return e.stop()}var r,c}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())};return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Redux list of posts"),c.a.createElement("hr",null),c.a.createElement(O,null),n?null:t?c.a.createElement(I,{disabled:!0},"Loading..."):r?c.a.createElement(I,{onClick:u},"Try again"):c.a.createElement(I,{onClick:u},"Load Posts"),n&&c.a.createElement(C,null))}),null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.71741ee7.chunk.js.map